"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[42687],{33483:(p,f,u)=>{var s,d;s=[u(91749)],d=function(m){const r={};return r.init=function(){const o=$(".composer");if(o.length&&(m.fire("action:composer.enhance",{container:o}),window.currentUser&&window.currentUser.role==="student")){const c=o.find(".composer-footer .formatting-bar, .composer .formatting-bar").first();if(c.length){let h=function(){return n.includes("everyone")?"Everyone":n.includes("all")?"All Instructors":l.filter(e=>n.includes(e.id)).map(e=>`${e.firstName} ${e.lastName}`).join(", ")||"Select instructor(s)..."},x=function(e){e==="everyone"?n=["everyone"]:n=[e],a()},a=function(){t.html(`
							<div class="dropdown-multiselect" style="width:300px;">
								<div class="dropdown-btn" style="padding:10px; border:1px solid #aaa; border-radius:4px; background:#f5f5f5; cursor:pointer;">${h()}</div>
								<div class="dropdown-content" style="display:none; position:absolute; background:#fff; border:1px solid #aaa; border-radius:4px; width:100%; z-index:10; max-height:200px; overflow-y:auto; box-shadow:0 2px 8px rgba(0,0,0,0.1);">
									${b.map(i=>`
										<div class="dropdown-item${n.includes(i.id)?" selected":""}" data-id="${i.id}" style="padding:8px 12px; cursor:pointer; display:flex; align-items:center;">
											<input type="checkbox" class="dropdown-checkbox" ${n.includes(i.id)?"checked":""} style="margin-right:8px;" />
											${i.label}
										</div>
									`).join("")}
									${l.map(i=>`
										<div class="dropdown-item${n.includes(i.id)?" selected":""}" data-id="${i.id}" style="padding:8px 12px; cursor:pointer; display:flex; align-items:center;">
											<input type="checkbox" class="dropdown-checkbox" ${n.includes(i.id)?"checked":""} style="margin-right:8px;" />
											${i.firstName} ${i.lastName}
										</div>
									`).join("")}
								</div>
							</div>
						`);const e=t.find(".dropdown-btn"),y=t.find(".dropdown-content");e.off("click").on("click",function(){y.toggle()}),t.find(".dropdown-item").off("click").on("click",function(i){i.stopPropagation();const v=$(this).data("id");x(v)})};const t=$('<div id="post-visibility-dropdown" style="margin-top:10px;"></div>');c.after(t);const l=window.instructorsList||[{id:"1",firstName:"Alice",lastName:"Smith"},{id:"2",firstName:"Bob",lastName:"Jones"}],b=[{id:"everyone",label:"Everyone"},{id:"all",label:"All Instructors"}];let n=["everyone"];a(),o.closest("form").on("submit",function(){let e=$(this).find('input[name="visibility"]');e.length||(e=$('<input type="hidden" name="visibility" />'),$(this).append(e)),e.val(n[0])})}}},r}.apply(f,s),d!==void 0&&(p.exports=d)}}]);
